{"version":3,"file":"index.js","sources":["../src/runtime.ts","../src/hooks.ts","../src/components.tsx"],"sourcesContent":[null,null,null],"names":["isLibrarySoundName","name","manifest","sounds","cdnBaseUrl","soundEnabledGlobal","soundStateListeners","audioUnlockInitialized","soundBlobCache","howlInstanceCache","makeRemoteSound","async","fetchSoundBlob","blob","objectUrl","URL","createObjectURL","howl","Howl","src","format","html5","onload","_objectUrl","instance","subscriptions","createOrGetHowlInstance","claimSound","entry","freeSound","playing","revokeObjectURL","unload","cleanupUnusedSound","localPath","publicPath","controller","AbortController","timeoutId","setTimeout","abort","response","fetch","method","signal","clearTimeout","ok","_a","headers","get","toLowerCase","startsWith","e","getLocalSoundPath","error","console","warn","Error","soundInfo","soundUrl","preloadSounds","names","Promise","all","map","playSound","options","isSoundEnabled","sound","freed","undefined","volume","rate","loop","on","play","window","setSoundEnabled","enabled","localStorage","setItem","forEach","listener","unlockAudioContext","Howler","ctx","state","resume","SoundContext","useSound","soundName","defaultOptions","isLoaded","setIsLoaded","useState","isPlaying","setIsPlaying","soundRef","useRef","activeSoundsRef","soundContext","useContext","ensureLoaded","useCallback","current","id","soundIndex","findIndex","resolver","splice","length","push","resolve","stop","pause","then","useEffect","savedPreference","getItem","initSoundEnabledState","events","handleInteraction","event","document","removeEventListener","addEventListener","initAudioContextUnlock","createContext","trigger","children","onLoad","onPlay","onStop","onError","catch","React","createElement","Fragment","soundOptions","onClick","onSoundError","props","preload","initialEnabled","setEnabledState","setEnabled","newEnabled","callback","index","indexOf","Provider","value","url","context","initialRef","skipThisInitialRun","initial","err"],"mappings":"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"}